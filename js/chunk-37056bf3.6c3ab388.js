(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37056bf3"],{"339a":function(e,t,s){e.exports=s.p+"img/LibriaTyan02.2f43ed99.svg"},"3f87":function(e,t,s){"use strict";let i=null;function r(e){return i||(i=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),i(e)}let n=null;function a(e){n||(n=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),n(e)}function o(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function l(e,t={}){let s=document.createElement(e);return Object.keys(t).forEach(e=>{s[e]=t[e]}),s}function c(e,t,s){let i=window.getComputedStyle(e,s||null)||{display:"none"};return i[t]}function u(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};let t=e;while(t!==document){if("none"===c(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var d='.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}';let h=0,_=null;function f(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=g.bind(e));let s=e.__resize_listeners__;if(!s)if(e.__resize_listeners__=[],window.ResizeObserver){let{offsetWidth:t,offsetHeight:s}=e,i=new ResizeObserver(()=>{(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==t||e.offsetHeight!==s))&&b(e)}),{detached:r,rendered:n}=u(e);e.__resize_observer_triggered__=!1===r&&!1===n,e.__resize_observer__=i,i.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){b(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(h||(_=o(d)),y(e),e.__resize_rendered__=u(e).rendered,window.MutationObserver){let t=new MutationObserver(e.__resize_mutation_handler__);t.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=t}e.__resize_listeners__.push(t),h++}function p(e,t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);let s=e.__resize_listeners__;s&&(s.splice(s.indexOf(t),1),s.length||(e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",m),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null),!--h&&_&&_.parentNode.removeChild(_))}function v(e){let{width:t,height:s}=e.__resize_last__,{offsetWidth:i,offsetHeight:r}=e;return i!==t||r!==s?{width:i,height:r}:null}function g(){let{rendered:e,detached:t}=u(this);e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(x(this),this.addEventListener("scroll",m,!0)),this.__resize_rendered__=e,b(this))}function m(){x(this),this.__resize_raf__&&a(this.__resize_raf__),this.__resize_raf__=r(()=>{let e=v(this);e&&(this.__resize_last__=e,b(this))})}function b(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach(t=>{t.call(e)})}function y(e){let t=c(e,"position");t&&"static"!==t||(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};let s=l("div",{className:"resize-triggers"}),i=l("div",{className:"resize-expand-trigger"}),r=l("div"),n=l("div",{className:"resize-contract-trigger"});i.appendChild(r),s.appendChild(i),s.appendChild(n),e.appendChild(s),e.__resize_triggers__={triggers:s,expand:i,expandChild:r,contract:n},x(e),e.addEventListener("scroll",m,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function x(e){let{expand:t,expandChild:s,contract:i}=e.__resize_triggers__,{scrollWidth:r,scrollHeight:n}=i,{offsetWidth:a,offsetHeight:o,scrollWidth:l,scrollHeight:c}=t;i.scrollLeft=r,i.scrollTop=n,s.style.width=a+1+"px",s.style.height=o+1+"px",t.scrollLeft=l,t.scrollTop=c}const w=["maxLines","maxHeight","ellipsis","isClamped"],z=["tag","text","autoresize"];t["a"]={name:"vue-clamp",props:{tag:{type:String,default:"div"},autoresize:{type:Boolean,default:!1},maxLines:Number,maxHeight:[String,Number],ellipsis:{type:String,default:"…"},expanded:Boolean},data(){return{offset:null,text:this.getText(),localExpanded:!!this.expanded}},computed:{clampedText(){return this.text.slice(0,this.offset)+this.ellipsis},isClamped(){return!!this.text&&this.offset!==this.text.length},realText(){return this.isClamped?this.clampedText:this.text},realMaxHeight(){if(this.localExpanded)return null;let{maxHeight:e}=this;return e?"number"===typeof e?e+"px":e:null}},watch:{expanded(e){this.localExpanded=e},localExpanded(e){e?this.clampAt(this.text.length):this.update(),this.expanded!==e&&this.$emit("update:expanded",e)}},mounted(){this.init(),z.forEach(e=>{this.$watch(e,this.init)}),w.forEach(e=>{this.$watch(e,this.update)})},updated(){this.text=this.getText(),this.applyChange()},beforeDestroy(){this.cleanUp()},methods:{init(){let e=this.$slots.default;if(e){if(this.offset=this.text.length,this.cleanUp(),this.autoresize){let e=()=>{this.update()};f(this.$el,e),this.unregisterResizeCallback=()=>{p(this.$el,e)}}this.update()}},update(){this.localExpanded||(this.applyChange(),(this.isOverflow()||this.isClamped)&&this.search())},expand(){this.localExpanded=!0},collapse(){this.localExpanded=!1},toggle(){this.localExpanded=!this.localExpanded},getLines(){return this.$refs.content.getClientRects().length},isOverflow(){return!(!this.maxLines&&!this.maxHeight)&&(!!(this.maxLines&&this.getLines()>this.maxLines)||!!(this.maxHeight&&this.$el.scrollHeight>this.$el.offsetHeight))},getText(){let[e]=(this.$slots.default||[]).filter(e=>!e.tag&&!e.isComment);return e?e.text:""},moveEdge(e){this.clampAt(this.offset+e)},clampAt(e){this.offset=e,this.applyChange()},applyChange(){this.$refs.text.textContent=this.realText},stepToFit(){this.fill(),this.clamp()},fill(){while((!this.isOverflow()||this.getLines()<2)&&this.offset<this.text.length)this.moveEdge(1)},clamp(){while(this.isOverflow()&&this.getLines()>1&&this.offset>0)this.moveEdge(-1)},search(...e){let[t=0,s=this.offset]=e;if(s-t<=3)return void this.stepToFit();let i=Math.floor((s+t)/2);this.clampAt(i),this.isOverflow()?this.search(t,i):this.search(i,s)},cleanUp(){this.unregisterResizeCallback&&this.unregisterResizeCallback()}},render(e){let t=[e("span",{ref:"text",attrs:{"aria-label":this.text.trim()}},this.realText)],{expand:s,collapse:i,toggle:r}=this,n={expand:s,collapse:i,toggle:r,clamped:this.isClamped,expanded:this.localExpanded},a=this.$scopedSlots.before?this.$scopedSlots.before(n):this.$slots.before;a&&t.unshift(...Array.isArray(a)?a:[a]);let o=this.$scopedSlots.after?this.$scopedSlots.after(n):this.$slots.after;o&&t.push(...Array.isArray(o)?o:[o]);let l=[e("span",{style:{boxShadow:"transparent 0 0"},ref:"content"},t)];return e(this.tag,{style:{maxHeight:this.realMaxHeight,overflow:"hidden"}},l)}}},"587b":function(e,t,s){"use strict";var i=s("d37d"),r=s.n(i);r.a},6062:function(e,t,s){"use strict";var i=s("6d61"),r=s("6566");e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6497:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e._isAuthorized?s("v-layout",{attrs:{column:""}},[s("v-card",{attrs:{flat:"",color:"transparent"}},[s("v-card-title",[e._v("Избранные релизы")]),s("v-card-subtitle",[e._v("Список ваших избранных релизов")])],1),s("v-expand-transition",[e.settings?s("settings",{staticClass:"mb-2"}):e._e()],1),s("toolbar",{staticClass:"mb-2",attrs:{loading:e._loading,search:e.search,settings:e.settings},on:{"update:search":function(t){e.search=t},"update:settings":function(t){e.settings=t},reload:e._getFavorites}}),e._loading?s("loader",{staticClass:"my-2"}):s(e.view,e._b({tag:"component",staticClass:"my-2",on:{toRelease:e.toRelease}},"component",{releases:e.releases},!1))],1):s("authorization")},r=[],n=(s("4de4"),s("ac1f"),s("841c"),s("2909")),a=s("5530"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:""}},[e._l(e.releases,(function(t){return[s("v-col",{key:t.id,attrs:{cols:"3",lg:"2"}},[s("release",e._b({on:{click:function(s){return e.$emit("toRelease",t)}}},"release",{release:t},!1))],1)]}))],2)},l=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.hover;return[s("v-lazy",{attrs:{options:{threshold:.5}}},[s("v-card",{staticClass:"grey darken-3 release-card",on:{click:function(t){return e.$emit("click")}}},[s("v-img",{attrs:{"aspect-ratio":".7",src:e.poster}},[s("v-fade-transition",{attrs:{mode:"out-in"}},[i?s("div",{staticClass:"release-card--reveal grey darken-4 pa-4"},[s("div",{staticClass:"body-2 font-weight-bold mb-2"},[e._v(e._s(e.title))]),s("v-clamp",{staticClass:"caption",style:{hyphens:"auto"},attrs:{autoresize:"","max-height":"70%"}},[e._v(" "+e._s(e.description)+" ")]),s("release-progress",e._b({staticClass:"release-card--progress mx-n4",attrs:{dense:"",center:"",square:"",height:"25"}},"release-progress",{release:e.release,episodes:e.episodes},!1))],1):e._e()]),i?e._e():s("release-progress",e._b({staticClass:"release-card--progress",attrs:{square:"",height:"5","show-numbers":!1}},"release-progress",{release:e.release,episodes:e.episodes},!1))],1)],1)],1)]}}])})},u=[],d=s("3f87"),h=s("0feb"),_={release:{type:Object,default:null},showSeen:{type:Boolean,default:!1}},f={props:_,components:{VClamp:d["a"],ReleaseProgress:h["a"]},computed:{poster:function(){return this.$__get(this.release,"poster")||""},title:function(){return this.$__get(this.release,"names.ru")},episodes:function(){return this.$__get(this.release,"episodes")||[]},description:function(){return this.$__get(this.release,"description")}}},p=f,v=(s("587b"),s("2877")),g=s("6544"),m=s.n(g),b=s("b0af"),y=s("0789"),x=s("16b7"),w=s("f2e7"),z=s("58df"),C=s("d9bd"),S=Object(z["a"])(x["a"],w["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter(){this.runDelay("open")},onMouseLeave(){this.runDelay("close")}},render(){if(!this.$scopedSlots.default&&void 0===this.value)return Object(C["c"])("v-hover is missing a default scopedSlot or bound value",this),null;let e;return this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(C["c"])("v-hover should only contain a single element",this),e)}}),O=s("adda"),E=s("24b2"),j=s("90a2"),$=s("80d2"),k=Object(z["a"])(E["a"],w["a"]).extend({name:"VLazy",directives:{intersect:j["a"]},props:{options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},tag:{type:String,default:"div"},transition:{type:String,default:"fade-transition"}},computed:{styles(){return{...this.measurableStyles}}},methods:{genContent(){const e=Object($["o"])(this);if(!this.transition)return e;const t=[];return this.isActive&&t.push(e),this.$createElement("transition",{props:{name:this.transition}},t)},onObserve(e,t,s){this.isActive||(this.isActive=s)}},render(e){return e(this.tag,{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}}),V=Object(v["a"])(p,c,u,!1,null,"6bf64a59",null),L=V.exports;m()(V,{VCard:b["a"],VFadeTransition:y["d"],VHover:S,VImg:O["a"],VLazy:k});var A=L,R={releases:{type:Array,default:null}},T={props:R,components:{Release:A}},H=T,F=s("62ad"),M=s("0fd9"),I=Object(v["a"])(H,o,l,!1,null,null,null),D=I.exports;m()(I,{VCol:F["a"],VRow:M["a"]});var B=D,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.years,(function(t,i){return s("year",e._b({key:i,staticClass:"mb-2",on:{toRelease:function(t){return e.$emit("toRelease",t)}}},"year",t,!1))})),1)},N=[],q=(s("99af"),s("4160"),s("07ac"),s("159b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{flat:"",color:"transparent"}},[s("v-card-title",{style:{cursor:"pointer"},on:{click:function(t){return e._setSettingsYearsCollapsed(e.year)}}},[s("span",[e._v(e._s(e.year))]),s("v-divider",{staticClass:"mx-6"}),s("v-btn",{attrs:{icon:"",color:"grey"},on:{click:function(t){return t.stopPropagation(),e._setSettingsYearsCollapsed(e.year)}}},[s("v-icon",[e._v("mdi-arrow-"+e._s(e.collapsed?"down":"up"))])],1)],1),s("v-card-subtitle",{staticClass:"pb-0",domProps:{textContent:e._s(e.subtitle)}}),s("v-card-subtitle",{staticClass:"pt-0",domProps:{textContent:e._s(e.genres)}}),e.collapsed?e._e():s("v-row",{attrs:{dense:""}},[e._l(e.releases,(function(t){return[s("v-col",{key:t.id,attrs:{cols:"3",lg:"2"}},[s("release",e._b({on:{click:function(s){return e.$emit("toRelease",t)}}},"release",{release:t},!1))],1)]}))],2)],1)}),P=[],U=(s("c740"),s("a15b"),s("13d5"),s("d3b7"),s("6062"),s("3ca3"),s("ddb0"),s("994a")),Y=s("2f62"),G={year:{type:String,default:null},releases:{type:Array,default:null}},Q={props:G,components:{Release:A},computed:Object(a["a"])(Object(a["a"])({},Object(Y["d"])("favorites",{_years:function(e){return e.settings.years_collapsed}})),{},{collapsed:function(){var e=this;return(this._years||[]).findIndex((function(t){return t===e.year}))>-1},subtitle:function(){return[this.items,this.episodes].join(", ")},items:function(){return Object(U["a"])((this.releases||[]).length,["релиз","релиза","релизов"])},episodes:function(){var e=this,t=(this.releases||[]).reduce((function(t,s){return t+(e.$__get(s,"episodes")||[]).length}),0);return Object(U["a"])(t,["эпизод","эпизода","эпизодов"])},genres:function(){var e=this,t=(this.releases||[]).reduce((function(t,s){return[].concat(Object(n["a"])(t),Object(n["a"])(e.$__get(s,"genres")||[]))}),[]);return Object(n["a"])(new Set(t)).sort((function(e,t){return e.localeCompare(t)})).join(", ")}}),methods:Object(a["a"])({},Object(Y["b"])("favorites",{_setSettingsYearsCollapsed:"setSettingsYearsCollapsed"}))},J=Q,K=s("8336"),X=s("99d9"),Z=s("ce7e"),ee=s("132d"),te=Object(v["a"])(J,q,P,!1,null,null,null),se=te.exports;m()(te,{VBtn:K["a"],VCard:b["a"],VCardSubtitle:X["a"],VCardTitle:X["c"],VCol:F["a"],VDivider:Z["a"],VIcon:ee["a"],VRow:M["a"]});var ie=se,re={releases:{type:Array,default:null}},ne={props:re,components:{Year:ie},computed:{years:function(){var e={};return(this.releases||[]).forEach((function(t){var s=t.year;e[s]=Object(a["a"])({},e[s]),e[s].year=s,e[s].releases=[].concat(Object(n["a"])(e[s].releases||[]),[t])})),Object.values(e).sort((function(e,t){return t.year-e.year}))}}},ae=ne,oe=Object(v["a"])(ae,W,N,!1,null,null,null),le=oe.exports,ce=le,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:""}},[e._l(18,(function(e){return[s("v-col",{key:e,attrs:{cols:"3",lg:"2"}},[s("v-img",{attrs:{"aspect-ratio":".7"}},[s("v-skeleton-loader",{attrs:{boilerplate:"",type:"image",height:"100%",width:"100%"}})],1)],1)]}))],2)},de=[],he=s("31292"),_e={},fe=Object(v["a"])(_e,ue,de,!1,null,null,null),pe=fe.exports;m()(fe,{VCol:F["a"],VImg:O["a"],VRow:M["a"],VSkeletonLoader:he["a"]});var ve=pe,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{staticClass:"shrink"},[s("v-text-field",{staticClass:"mr-2",attrs:{solo:"",clearable:"","hide-details":"",placeholder:"Поиск по избранным релизам ...","prepend-inner-icon":"mdi-magnify",value:e.search},on:{input:function(t){return e.$emit("update:search",t)}}}),s("v-btn",e._b({staticClass:"mr-2",attrs:{height:"48"},on:{click:function(t){return e.$emit("reload")}}},"v-btn",{loading:e.loading},!1),[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-refresh")]),s("span",[e._v("Обновить")])],1),s("v-btn",e._b({attrs:{height:"48"},on:{click:function(t){return e.$emit("update:settings",!e.settings)}}},"v-btn",{loading:e.loading},!1),[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-settings")]),s("span",[e._v("Настройки")])],1)],1)},me=[],be={search:{type:String,default:null},settings:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},ye={props:be},xe=ye,we=s("a722"),ze=s("8654"),Ce=Object(v["a"])(xe,ge,me,!1,null,null,null),Se=Ce.exports;m()(Ce,{VBtn:K["a"],VIcon:ee["a"],VLayout:we["a"],VTextField:ze["a"]});var Oe=Se,Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",{staticClass:"mb-2"},[s("v-list-item",{staticClass:"py-2",on:{click:function(t){return e._setSettingsShowSeen(!e._show_seen)}}},[s("v-list-item-content",[s("v-list-item-title",[e._v("Просмотренные релизы")]),s("v-list-item-subtitle",[e._v("Вы можете показать или скрыть уже просмотренные релизы")])],1),s("v-list-item-action",[s("v-switch",{attrs:{"input-value":e._show_seen},on:{click:e._setSettingsShowSeen}})],1)],1)],1),s("v-card",{staticClass:"mb-2"},[s("v-list-item",{staticClass:"py-2"},[s("v-list-item-content",[s("v-list-item-title",[e._v("Сортировка")]),s("v-list-item-subtitle",[e._v("Вы можете настроить способ сортировки релизов")]),s("v-select",{staticClass:"mt-4",attrs:{outlined:"","hide-details":"","item-text":"title","item-value":"value",placeholder:"Сортировка",items:e.sort,value:e._sort},on:{input:e._setSettingsSort}})],1)],1)],1),s("v-card",[s("v-list-item",{staticClass:"py-2"},[s("v-list-item-content",[s("v-list-item-title",[e._v("Группировка")]),s("v-list-item-subtitle",[e._v("Вы можете настроить способ группровки релизов")]),s("v-select",{staticClass:"mt-4",attrs:{outlined:"","hide-details":"","item-text":"title","item-value":"value",placeholder:"Группировка",items:e.group,value:e._group},on:{input:e._setSettingsGroup}})],1)],1)],1)],1)},je=[],$e={data:function(){return{sort:[{title:"По названию",value:"title"},{title:"По дате добавления в избранное",value:"original"},{title:"По дате обновления релизов",value:"updates"}],group:[{title:"Без группировки",value:"original"},{title:"По годам",value:"years"}]}},computed:Object(a["a"])({},Object(Y["d"])("favorites",{_sort:function(e){return e.settings.sort},_group:function(e){return e.settings.group},_show_seen:function(e){return e.settings.show_seen}})),methods:Object(a["a"])({},Object(Y["b"])("favorites",{_setSettingsSort:"setSettingsSort",_setSettingsGroup:"setSettingsGroup",_setSettingsShowSeen:"setSettingsShowSeen"}))},ke=$e,Ve=s("da13"),Le=s("1800"),Ae=s("5d23"),Re=s("b974"),Te=s("b73d"),He=Object(v["a"])(ke,Ee,je,!1,null,null,null),Fe=He.exports;m()(He,{VCard:b["a"],VListItem:Ve["a"],VListItemAction:Le["a"],VListItemContent:Ae["a"],VListItemSubtitle:Ae["b"],VListItemTitle:Ae["c"],VSelect:Re["a"],VSwitch:Te["a"]});var Me=Fe,Ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("banner",e._b({scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Избранные релизы")]},proxy:!0},{key:"text",fn:function(){return[s("div",[e._v("Список ваших избранных релизов")]),s("div",[e._v("Для просмотра необходимо авторизоваться в приложении")])]},proxy:!0},{key:"actions",fn:function(){return[s("v-btn",{on:{click:e.toLogin}},[e._v("Авторизоваться")])]},proxy:!0}])},"banner",{image:e.image},!1))},De=[],Be=s("cb12"),We=s("339a"),Ne=s.n(We),qe={components:{Banner:Be["a"]},data:function(){return{image:Ne.a}},methods:{toLogin:toLogin}},Pe=qe,Ue=Object(v["a"])(Pe,Ie,De,!1,null,null,null),Ye=Ue.exports;m()(Ue,{VBtn:K["a"]});var Ge=Ye,Qe=s("ffe7"),Je=s.n(Qe),Ke={name:"Favorites.View",meta:{title:"Избранное"},components:{Loader:ve,Toolbar:Oe,Settings:Me,Authorization:Ge},data:function(){return{search:null,settings:!1,l:!1}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(Y["c"])("app/account",{_isAuthorized:"isAuthorized"})),Object(Y["d"])("favorites",{_items:function(e){return e.items},_loading:function(e){return e.loading},_settings:function(e){return e.settings}})),{},{view:function(){var e=this.$__get(this._settings,"group");return"original"===e?B:"years"===e?ce:void 0},releasesSearchable:function(){var e={keys:["names.ru","names.original"],threshold:.2};return new Je.a(this._items,e)},releases:function(){var e=this,t=this.$__get(this._settings,"sort"),s=this.search,i=this.$__get(this._settings,"show_seen")||!1,r=Object(n["a"])(this._items||[]);return"title"===t&&(r=r.sort((function(e,t){return e.names.ru.localeCompare(t.names.ru)}))),"updates"===t&&(r=r.sort((function(e,t){return t.datetime&&e.datetime?t.datetime.system-e.datetime.system:0}))),s&&(r=this.releasesSearchable.search(s)),r=r.filter((function(t){var s=t.id,r=(e.$__get(t,"episodes")||[]).length,n={release_id:s,total_episodes_number:r},a=e.$store.getters["app/watch/getReleaseProgress"](n);return a<100||100===a&&!0===i})),r}}),methods:Object(a["a"])(Object(a["a"])({},Object(Y["b"])("favorites",{_getFavorites:"getFavorites"})),{},{toLogin:toLogin,toRelease:toRelease})},Xe=Ke,Ze=Object(v["a"])(Xe,i,r,!1,null,null,null),et=Ze.exports;m()(Ze,{VCard:b["a"],VCardSubtitle:X["a"],VCardTitle:X["c"],VExpandTransition:y["a"],VLayout:we["a"]});t["default"]=et},6566:function(e,t,s){"use strict";var i=s("9bf2").f,r=s("7c73"),n=s("e2cc"),a=s("0366"),o=s("19aa"),l=s("2266"),c=s("7dd0"),u=s("2626"),d=s("83ab"),h=s("f183").fastKey,_=s("69f3"),f=_.set,p=_.getterFor;e.exports={getConstructor:function(e,t,s,c){var u=e((function(e,i){o(e,u,t),f(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=i&&l(i,e[c],e,s)})),_=p(t),v=function(e,t,s){var i,r,n=_(e),a=g(e,t);return a?a.value=s:(n.last=a={index:r=h(t,!0),key:t,value:s,previous:i=n.last,next:void 0,removed:!1},n.first||(n.first=a),i&&(i.next=a),d?n.size++:e.size++,"F"!==r&&(n.index[r]=a)),e},g=function(e,t){var s,i=_(e),r=h(t);if("F"!==r)return i.index[r];for(s=i.first;s;s=s.next)if(s.key==t)return s};return n(u.prototype,{clear:function(){var e=this,t=_(e),s=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete s[i.index],i=i.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,s=_(t),i=g(t,e);if(i){var r=i.next,n=i.previous;delete s.index[i.index],i.removed=!0,n&&(n.next=r),r&&(r.previous=n),s.first==i&&(s.first=r),s.last==i&&(s.last=n),d?s.size--:t.size--}return!!i},forEach:function(e){var t,s=_(this),i=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:s.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),n(u.prototype,s?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&i(u.prototype,"size",{get:function(){return _(this).size}}),u},setStrong:function(e,t,s){var i=t+" Iterator",r=p(t),n=p(i);c(e,t,(function(e,t){f(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=n(this),t=e.kind,s=e.last;while(s&&s.removed)s=s.previous;return e.target&&(e.last=s=s?s.next:e.state.first)?"keys"==t?{value:s.key,done:!1}:"values"==t?{value:s.value,done:!1}:{value:[s.key,s.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),s?"entries":"values",!s,!0),u(t)}}},"6d61":function(e,t,s){"use strict";var i=s("23e7"),r=s("da84"),n=s("94ca"),a=s("6eeb"),o=s("f183"),l=s("2266"),c=s("19aa"),u=s("861d"),d=s("d039"),h=s("1c7e"),_=s("d44e"),f=s("7156");e.exports=function(e,t,s){var p=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),g=p?"set":"add",m=r[e],b=m&&m.prototype,y=m,x={},w=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,s){return t.call(this,0===e?0:e,s),this})};if(n(e,"function"!=typeof m||!(v||b.forEach&&!d((function(){(new m).entries().next()})))))y=s.getConstructor(t,e,p,g),o.REQUIRED=!0;else if(n(e,!0)){var z=new y,C=z[g](v?{}:-0,1)!=z,S=d((function(){z.has(1)})),O=h((function(e){new m(e)})),E=!v&&d((function(){var e=new m,t=5;while(t--)e[g](t,t);return!e.has(-0)}));O||(y=t((function(t,s){c(t,y,e);var i=f(new m,t,y);return void 0!=s&&l(s,i[g],i,p),i})),y.prototype=b,b.constructor=y),(S||E)&&(w("delete"),w("has"),p&&w("get")),(E||C)&&w(g),v&&b.clear&&delete b.clear}return x[e]=y,i({global:!0,forced:y!=m},x),_(y,e),v||s.setStrong(y,e,p),y}},bb2f:function(e,t,s){var i=s("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cb12:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{justify:"center",align:"center"}},[e.image?s("v-col",{attrs:{cols:"12",sm:"2","align-self":"center"}},[s("v-img",{staticClass:"image",attrs:{contain:"",src:e.image,"max-height":e.imageHeight}})],1):e._e(),s("v-col",{attrs:{cols:"12",sm:"5","align-self":"center"}},[s("v-card",{attrs:{flat:"",color:"transparent"}},[s("v-card-title",{class:{"justify-center":e.isMobile}},[e._t("title")],2),s("v-card-text",{class:{"text-center":e.isMobile}},[e._t("text")],2),e._t("body"),s("v-layout",{attrs:{"justify-center":e.isMobile}},[e._t("actions")],2)],2)],1)],1)},r=[],n=s("8d8d"),a={image:{type:String,default:null},imageHeight:{type:String,default:"220"}},o={props:a,mixins:[n["a"]]},l=o,c=s("2877"),u=s("6544"),d=s.n(u),h=s("b0af"),_=s("99d9"),f=s("62ad"),p=s("adda"),v=s("a722"),g=s("0fd9"),m=Object(c["a"])(l,i,r,!1,null,null,null),b=m.exports;d()(m,{VCard:h["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:f["a"],VImg:p["a"],VLayout:v["a"],VRow:g["a"]});t["a"]=b},d37d:function(e,t,s){},f183:function(e,t,s){var i=s("d012"),r=s("861d"),n=s("5135"),a=s("9bf2").f,o=s("90e3"),l=s("bb2f"),c=o("meta"),u=0,d=Object.isExtensible||function(){return!0},h=function(e){a(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},_=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,c)){if(!d(e))return"F";if(!t)return"E";h(e)}return e[c].objectID},f=function(e,t){if(!n(e,c)){if(!d(e))return!0;if(!t)return!1;h(e)}return e[c].weakData},p=function(e){return l&&v.REQUIRED&&d(e)&&!n(e,c)&&h(e),e},v=e.exports={REQUIRED:!1,fastKey:_,getWeakData:f,onFreeze:p};i[c]=!0}}]);
//# sourceMappingURL=chunk-37056bf3.6c3ab388.js.map